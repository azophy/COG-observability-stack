<?xml version="1.0"?>
<clickhouse>
    <logger>
        <level>information</level>
        <console>true</console>
    </logger>

    <!-- Create the logs table -->
    <query>CREATE TABLE IF NOT EXISTS docker_logs (
        timestamp DateTime64(9),
        container_id String,
        container_name String,
        log_message String,
        stream String,
        attrs Map(String, String)
    ) ENGINE = MergeTree()
    ORDER BY (timestamp, container_id);</query>

  <!-- otel collector config -->
  <opentelemetry>
      <endpoint>0.0.0.0:4317</endpoint>
      <database>logs</database>
      <table>docker_logs</table>
  </opentelemetry>
</clickhouse>

